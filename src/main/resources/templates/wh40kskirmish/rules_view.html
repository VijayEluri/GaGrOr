<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">
<head th:replace="/fragments/framework :: head" />
<body>
	<div th:replace="/fragments/mainmenu :: mainmenu"></div>
	<nav class="breadcrumbs" id="submenu">
		<a th:unless="${rules.group.memberType}" th:href="@{/}" th:text="#{menu.public}"></a>
		<a th:unless="${rules.group.memberType}" th:href="@{/groups/public}" th:text="#{menu.public.groups}"></a>
		<a th:if="${rules.group.memberType}" th:href="@{/groups/list}" th:text="#{menu.groups}"></a>
		<a th:href="@{/groups/view/{groupId}(groupId=${rules.group.id})}" th:text="${rules.group.name}"></a>
		<a class="current" th:text="#{menu.groups.rules}"></a>
	</nav>
	<table>
		<thead>
			<tr>
				<td>Gang type / faction</td>
				<td>Race / fighter type</td>
			</tr>
		</thead>
		<tbody>
			<tr th:each="gangType : ${rules.gangTypes}">
				<td>
					<a th:href="@{/wh40kskirmish/rules/{groupId}/gangtype/{gangTypeId}(groupId=${rules.group.id},gangTypeId=${gangType.id})}" th:text="${gangType.name}"></a>
					<ul>
						<li th:each="faction : ${gangType.factions}">
							<a th:href="@{/wh40kskirmish/rules/{groupId}/faction/{gangTypeId}/{factionId}(groupId=${rules.group.id},gangTypeId=${gangType.id},factionId=${faction.id})}"
								th:text="${faction.name}"></a>
						</li>
						<li th:if="${#lists.isEmpty(gangType.factions)}" class="fi-alert">
							No factions have been created yet
						</li>
						<li th:if="${rules.group.memberType != null and rules.group.memberType.owner}">
							<a class="fi-plus" th:href="@{/wh40kskirmish/rules/{groupId}/faction/{gangTypeId}/create(groupId=${rules.group.id},gangTypeId=${gangType.id})}" th:text="#{menu.groups.rules.wh40kskirmish.faction.create}"></a>
						</li>
					</ul>
				</td>
				<td>
					<ul>
						<li th:each="race : ${gangType.races}">
							<a th:href="@{/wh40kskirmish/rules/{groupId}/race/{gangTypeId}/{raceId}(groupId=${rules.group.id},gangTypeId=${gangType.id},raceId=${race.id})}"
								th:text="${race.name}"></a>
							<ul>
								<li th:each="fighterType : ${race.fighterTypes}">
									<a th:href="@{/wh40kskirmish/rules/{groupId}/fightertype/{gangTypeId}/{raceId}/{fighterTypeId}(groupId=${rules.group.id},gangTypeId=${gangType.id},raceId=${race.id},fighterTypeId=${fighterType.id})}"
										th:text="${fighterType.name}"></a>
								</li>
								<li th:if="${#lists.isEmpty(race.fighterTypes)}" class="fi-alert">
									No fighter types have been created yet
								</li>
								<li th:if="${rules.group.memberType != null and rules.group.memberType.owner}">
									<a class="fi-plus" th:href="@{/wh40kskirmish/rules/{groupId}/fightertype/{gangTypeId}/{raceId}/create(groupId=${rules.group.id},gangTypeId=${gangType.id},raceId=${race.id})}" th:text="#{menu.groups.rules.wh40kskirmish.fightertype.create}"></a>
								</li>
							</ul>
						</li>
						<li th:if="${#lists.isEmpty(gangType.races)}" class="fi-alert">
							No races have been created yet
						</li>
						<li th:if="${rules.group.memberType != null and rules.group.memberType.owner}">
							<a class="fi-plus" th:href="@{/wh40kskirmish/rules/{groupId}/race/{gangTypeId}/create(groupId=${rules.group.id},gangTypeId=${gangType.id})}" th:text="#{menu.groups.rules.wh40kskirmish.race.create}"></a>
						</li>
					</ul>
				</td>
			</tr>
			<tr th:if="${#lists.isEmpty(rules.gangTypes)}">
				<td class="fi-alert">
					No gang types have been created yet
				</td>
				<td></td>
			</tr>
			<tr th:if="${rules.group.memberType != null and rules.group.memberType.owner}">
				<td>
					<a class="fi-plus" th:href="@{/wh40kskirmish/rules/{groupId}/gangtype/create(groupId=${rules.group.id})}" th:text="#{menu.groups.rules.wh40kskirmish.gangtype.create}"></a>
				</td>
				<td></td>
			</tr>
		</tbody>
	</table>
	<script th:replace="/fragments/framework :: init"></script>
</body>
</html>
